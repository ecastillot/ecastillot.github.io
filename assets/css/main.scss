---
---

/*
 * This file controls what is imported from /_sass
 *
 * Note that the files are processed in the order they are imported, so they are partly
   sorted by the dependencies. Also, the first two lines of the file are required by Jekyll.
 */

@import
    "vendor/breakpoint/breakpoint",

    "themes",
    "theme/{{ site.site_theme | default: 'default' | append: '_light' }}",
    "theme/{{ site.site_theme | default: 'default' | append: '_dark' }}",

    "include/mixins",
    "vendor/susy/susy",

    "layout/reset",
    "layout/base",

    "include/utilities",
    "layout/tables",
    "layout/buttons",
    "layout/notices",
    "layout/masthead",
    "layout/navigation",
    "layout/footer",
    "syntax",

    "layout/forms",

    "layout/page",
    "layout/archive",
    "layout/sidebar",
    "layout/json_cv",

    "vendor/font-awesome/fontawesome",
    "vendor/font-awesome/solid",
    "vendor/font-awesome/brands"
;

/* =========================
   CV Layout
========================= */

/* =========================
   CV Professional Layout
========================= */

.cv-blocks {
  display: flex;
  flex-wrap: wrap;
  gap: 40px;
  margin: 40px 0;
}

.cv-block {
  flex: 1;
  min-width: 350px;

  background: #ffffff;
  border: 1px solid #e5e7eb;
  border-left: 4px solid #2c3e50;  /* accent bar */
  border-radius: 8px;

  padding: 28px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.03);

  transition: all 0.2s ease;
}

.cv-block:hover {
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
  transform: translateY(-2px);
}

.cv-block h2 {
  margin-top: 0;
  margin-bottom: 16px;
  font-size: 1.3rem;
}

.cv-block h3 {
  margin-bottom: 4px;
}

.cv-block p {
  margin-bottom: 6px;
}

.cv-block ul {
  margin-bottom: 10px;
}

/* Improve section spacing */
.page__content h2 {
  margin-top: 50px;
}

/* Make cv-block horizontally scrollable but look normal */
.cv-blocks.scrollable {
  overflow-x: auto;       /* horizontal scroll */
  -webkit-overflow-scrolling: touch; /* smooth scrolling on mobile */
  padding-bottom: 0.5em;  /* little space for scrollbar */
}

.cv-blocks.scrollable .cv-block {
  display: inline-block;  /* prevent it from wrapping like a code block */
  white-space: nowrap;    /* keep content in one line/row */
  background: none;       /* remove gray code block background */
  font-family: inherit;   /* use normal CV font */
  font-size: inherit;     /* match normal font size */
  padding: 0;             /* optional: remove extra padding */
}

/* =========================
   Publications
========================= */

.wordwrap {
  margin-bottom: 20px; /* space below Google Scholar text */
}

.pub-row {
  display: flex;
  flex-wrap: nowrap;       /* keep image and text in same row */
  gap: 30px;
  margin-bottom: 50px;
  align-items: flex-start; /* top-align image and text */
}

.pub-info {
  flex: 1;               /* take remaining space next to image */
  min-width: 0;          /* prevent overflow issues with long text */
}

@media (max-width: 700px) {
  .pub-row {
    flex-wrap: wrap;     /* allow stacking on small screens */
  }
  .pub-info {
    flex: 1 1 100%;      /* full width under the image */
  }
}

.pub-image-container {
  width: 330px;       /* fixed width */
  height: 200px;      /* fixed height */
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 6px 20px rgba(0,0,0,0.15);
  position: relative;
}

.image-rotator img {
  width: 100%;
  height: 100%;
  object-fit: cover; /* or contain if you want no cropping */
  position: absolute;
  opacity: 0;
  transition: transform 0.3s ease, opacity 1s ease-in-out;
}

.pub-image-container:hover .image-rotator img.active,
.pub-image-container:hover .image-rotator img {
  transform: scale(1.05);  /* Slight zoom on hover */
}
.image-rotator img:nth-child(1) { animation: cycle 12s infinite; }
.image-rotator img:nth-child(2) { animation: cycle 12s infinite 4s; }
.image-rotator img:nth-child(3) { animation: cycle 12s infinite 8s; }

@keyframes cycle {
  0%, 30% { opacity: 1; }
  33%, 100% { opacity: 0; }
}

.zoom-overlay {
  position: absolute;
  bottom: 0;
  width: 100%;
  background: rgba(0,0,0,0.6);
  color: white;
  font-size: 14px;
  text-align: center;
  padding: 6px 0;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.pub-image-container:hover .zoom-overlay {
  opacity: 1;
}

.pub-info h3 {
  margin-top: 0;
  font-size: 20px;
}

.abstract {
  font-size: 14px;
  color: #555;
  line-height: 1.6;
}

/* ===== Lightbox Modal (Bulletproof Version) ===== */

.modal {
  display: none;
  position: fixed !important;
  inset: 0 !important;              /* replaces top/left/width/height */
  width: 100vw !important;
  height: 100vh !important;

  background: rgba(0, 0, 0, 0.95);

  justify-content: center;
  align-items: center;

  z-index: 999999 !important;       /* above masthead, nav, everything */

  margin: 0 !important;
  padding: 0 !important;

  overflow: auto;

  /* break any stacking context issues */
  transform: none !important;
}

.modal-content {
  max-width: 92vw;
  max-height: 88vh;
  object-fit: contain;
}

.close {
  position: fixed !important;
  top: 25px;
  right: 40px;
  font-size: 42px;
  color: white;
  font-weight: bold;
  cursor: pointer;
  z-index: 1000000 !important;
}

.close:hover {
  color: #ccc;
}

.arrow {
  position: fixed;
  top: 50%;
  transform: translateY(-50%);
  font-size: 50px;
  color: white;
  cursor: pointer;
  padding: 10px;
  z-index: 1000000;
  user-select: none;
}

.arrow.left {
  left: 30px;
}

.arrow.right {
  right: 30px;
}

.arrow:hover {
  color: #ccc;
}

.lightbox-content-wrapper {
  display: flex;
  gap: 40px;
  align-items: center;
  max-width: 90vw;
  max-height: 85vh;
}

.modal-content {
  max-width: 60vw;
  max-height: 85vh;
  object-fit: contain;
}

.caption-panel {
  width: 300px;
  max-height: 85vh;
  overflow-y: auto;
  color: white;
  font-size: 16px;
  line-height: 1.6;
}